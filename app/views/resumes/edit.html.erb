<%= form_with(url: update_resume_path(account: current_user.account, id: @resume.id), method: "patch", model: @resume, data: { turbo: false }) do |f| %>

  <%= f.submit "更新", name: "save", class: "right-72 fixed top-32 inline-block px-5 py-3 mx-auto text-center text-white rounded-lg cursor-pointer bg-amber-500 hover:bg-amber-800" %>
  
  <% if @resume.publish == false %>
  <div class="fixed inline-block px-5 py-3 mx-auto text-center text-white rounded-lg cursor-pointer right-96 top-32 bg-amber-500 hover:bg-amber-800" data-serial="<%= @resume.id %>" data-account="<%= current_user.account %>" data-action="click->publish#updatePublish" data-controller="publish" data-publish="<%= @resume.publish %>">發佈</div>
  <% end %>

  <div class="max-w-screen-lg mt-20 mb-16 bg-white shadow-2xl section-inputs sm:p-4 md:p-8 lg:p-16 min-h-1000">
    <%= render partial: "area1", locals: { f: f } %>
    <%= render partial: "area2", locals: { f: f } %>
    <%= render partial: "area3", locals: { f: f } %>
    <%= render partial: "area4", locals: { f: f } %>
  </div>

  <div class="fixed bottom-0 right-0 hidden bg-gray-100 xl:block top-68px" data-controller="resumeComponent" data-serial="<%= @resume.id %>" data-account="<%= current_user.account %>">
    <div class="flex-col justify-between h-full overflow-y-scroll align-center">
      <button id="generatePdfBtn" class="inline-block px-5 py-3 mx-auto text-center text-white rounded-lg cursor-pointer bg-amber-500 hover:bg-amber-800" data-action="pdfGenerate#generate">下載 PDF</button>
      <div class="px-10 pt-10 custom-width-190px">
        <div class="flex flex-col items-center p-3 mb-10 bg-white rounded-lg shadow-xl outline-none">
          <p class="py-3 text-amber-700">基本資料</p>
          <%= image_tag "web.png",
            class: "cursor-pointer",
            data: {
              area1: 1, 
              action: "click->resumeComponent#saveComponent"
          } %>
           
          <%= image_tag "web.png",
            class: "cursor-pointer",
            data: {
              area1: 2, 
              action: "click->resumeComponent#saveComponent"
          } %>
           
          <%= image_tag "web.png",
            class: "cursor-pointer",
            data: {
              area1: 3, 
              action: "click->resumeComponent#saveComponent"
          } %>
        </div>
          
        <div class="flex flex-col items-center p-3 mb-10 bg-white rounded-lg shadow-xl outline-none">
          <p class="py-3 text-amber-700">工作經驗</p>
          <%= image_tag "websiteLogo.png",
            class: "cursor-pointer",
            data: {
              area2: 1, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "websiteLogo.png",
            class: "cursor-pointer",
            data: {
              area2: 2, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "websiteLogo.png",
            class: "cursor-pointer",
            data: {
            area2: 3, 
              action: "click->resumeComponent#saveComponent"
          } %>
        </div>
        
        <div class="flex flex-col items-center p-3 mb-10 bg-white rounded-lg shadow-xl outline-none">
          <p class="py-3 text-amber-700">專案</p>
          <%= image_tag "heart.png",
            class: "cursor-pointer",
            data: {
            area3: 1, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "heart.png",
            class: "cursor-pointer",
            data: {
            area3: 2, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "heart.png",
            class: "cursor-pointer",
            data: {
            area3: 3, 
              action: "click->resumeComponent#saveComponent"
          } %>
        </div>
        
        <div class="flex flex-col items-center p-3 mb-10 bg-white rounded-lg shadow-xl outline-none">
          <p class="py-3 text-amber-700">教育</p>
          <%= image_tag "messenger.png",
            class: "cursor-pointer",
            data: {
            area4: 1, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "messenger.png",
            class: "cursor-pointer",
            data: {
            area4: 2, 
              action: "click->resumeComponent#saveComponent"
          } %>
          
          <%= image_tag "messenger.png",
            class: "cursor-pointer",
            data: {
            area4: 3, 
              action: "click->resumeComponent#saveComponent"
          } %>
        </div>
        
      </div>
    </div>
  </div>
<% end %>